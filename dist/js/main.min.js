var tache,task=document.getElementById("task"),list=document.getElementById("list"),addButton=document.getElementById("add"),endButton=document.getElementById("end-btn"),tacheEnCours=document.getElementById("enCours"),todo=document.getElementById("todo"),x=null,y=null;function keyPressed(e){return"Enter"==e.code&&addItem(),!1}task.addEventListener("keypress",keyPressed),endButton.addEventListener("click",moveEnd);var n=0;function increment(){return++n}function addItem(){increment();var e=task.value;task.value="";var t=document.createElement("li"),a=document.createElement("label"),d=document.createElement("i"),i=document.createElement("p"),s=new Date,o=s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear()+" "+s.getHours()+"h"+s.getMinutes()+":"+s.getSeconds();s.getTime();t.setAttribute("id",n),t.setAttribute("class","card"),i.setAttribute("class","datebox1 blue-text"),a.setAttribute("for","test"+n),a.setAttribute("class","indigo-text"),d.setAttribute("class","material-icons blue-text text-darken-2"),d.setAttribute("onclick","supprimer(this)"),d.setAttribute("id","i"+n),a.innerHTML=e,i.innerHTML="Date de création : "+o,d.innerHTML="delete",t.appendChild(a),t.appendChild(d),t.appendChild(i),document.getElementById("todo").appendChild(t),a.addEventListener("click",enCours),Materialize.toast("Votre tâche a bien été ajoutée",4e3,"blue-text text-darken-2 white")}function supprimer(e){window.confirm("Supprimer cette tache ?")&&e.parentNode.remove()}function enCours(){this.parentNode.parentNode==todo?0===tacheEnCours.childElementCount?(tacheEnCours.appendChild(this.parentNode),Materialize.toast('La tache "'+this.innerHTML+'" est selectionnée',4e3,"blue-text text-darken-2 white")):(todo.appendChild(tacheEnCours.childNodes[0]),tacheEnCours.appendChild(this.parentNode)):todo.appendChild(tacheEnCours.childNodes[0])}function test(){console.log("le test marche !!!")}function moveEnd(e){var t=document.getElementById("enCours").firstChild;document.getElementById("tacheEnd").appendChild(t),Materialize.toast("Tache effectuée",4e3,"green-text white")}function taskEnd(){Materialize.toast("Cette tâche est terminée",4e3,"red-text white")}var play=document.getElementById("play"),pause=document.getElementById("pause"),continu=document.getElementById("continue"),restart=document.getElementById("restart");play.addEventListener("click",start),pause.addEventListener("click",stop),restart.addEventListener("click",reset);var myvar,clock=document.getElementById("clockdiv"),minutesSpan=document.getElementById("min"),secondsSpan=document.getElementById("sec");function start(){if(0===tacheEnCours.childElementCount)Materialize.toast("Pas de tache en cours",4e3,"red-text white");else{var e=new Date(Date.parse(new Date)+15e5);play.classList.add("hidden"),pause.classList.remove("hidden"),function t(){var n=new Date;var a=(e.getTime()-n.getTime())/1e3;var d=Math.floor(a/60);minutesSpan.innerHTML=d;a-=60*d;a=Math.floor(a);secondsSpan.innerHTML=a;console.log(a);myvar=setTimeout(t,1e3);0==a&&(console.log("FIN DU MONDE"),clearTimeout(myvar))}()}}function stop(){clearTimeout(myvar),continu.classList.remove("hidden"),restart.classList.remove("hidden"),pause.classList.add("hidden")}function reset(){minutesSpan.innerHTML="25",secondsSpan.innerHTML="00",continu.classList.add("hidden"),restart.classList.add("hidden"),play.classList.remove("hidden")}