var tache,task=document.getElementById("task"),list=document.getElementById("list"),addButton=document.getElementById("add"),endButton=document.getElementById("end-btn"),tacheEnCours=document.getElementById("enCours"),todo=document.getElementById("todo"),timer=document.getElementById("timer"),completed=document.getElementById("tacheEnd");function keyPressed(e){return"Enter"==e.code&&addItem(),!1}task.addEventListener("keypress",keyPressed),endButton.addEventListener("click",moveEnd);var n=0;function increment(){return++n}function addItem(){increment();var e=task.value;task.value="";var t=document.createElement("li"),d=document.createElement("label"),s=document.createElement("i"),i=document.createElement("p"),a=document.createElement("span"),o=document.createElement("span"),r=document.createElement("span");t.setAttribute("id",n),t.setAttribute("class","card"),i.setAttribute("class","datebox1 blue-text"),d.setAttribute("for","test"+n),d.setAttribute("class","indigo-text"),s.setAttribute("class","material-icons blue-text text-darken-2"),s.setAttribute("onclick","supprimer(this)"),s.setAttribute("id","i"+n),a.setAttribute("id","spanmin"),o.setAttribute("id","spansec"),r.innerHTML=" : ",d.innerHTML=e,a.innerHTML="25",o.innerHTML="00",i.innerHTML=" Time :   ",s.innerHTML="delete",i.appendChild(a),i.appendChild(r),i.appendChild(o),t.appendChild(d),t.appendChild(s),t.appendChild(i),document.getElementById("todo").appendChild(t),d.addEventListener("click",enCours),Materialize.toast("Votre tâche a bien été ajoutée",4e3,"blue-text text-darken-2 white")}function supprimer(e){window.confirm("Supprimer cette tache ?")&&e.parentNode.remove()}function enCours(){this.parentNode.parentNode==todo?0===tacheEnCours.childElementCount?(tacheEnCours.appendChild(this.parentNode),Materialize.toast('La tache "'+this.innerHTML+'" est selectionnée',4e3,"blue-text text-darken-2 white")):(todo.appendChild(tacheEnCours.childNodes[0]),tacheEnCours.appendChild(this.parentNode),reset()):(todo.appendChild(tacheEnCours.childNodes[0]),reset())}function test(){console.log("le test marche !!!")}function moveEnd(e){reset();var t=document.getElementById("enCours").firstChild;document.getElementById("tacheEnd").appendChild(t),Materialize.toast("Tache effectuée",4e3,"green-text white")}function taskEnd(){Materialize.toast("Cette tâche est terminée",4e3,"red-text white")}var play=document.getElementById("play"),pause=document.getElementById("pause"),resume=document.getElementById("resume"),exit=document.getElementById("exit");play.addEventListener("click",start),pause.addEventListener("click",stop),exit.addEventListener("click",reset),resume.addEventListener("click",truc);var myvar,clock=document.getElementById("clockdiv"),minutesSpan=document.getElementById("min"),secondsSpan=document.getElementById("sec");function start(){if(0===tacheEnCours.childElementCount)Materialize.toast("Pas de tache en cours",4e3,"red-text white");else{var e=new Date(Date.parse(new Date)+15e5);play.classList.add("hidden"),pause.classList.remove("hidden"),console.log(tacheEnCours.firstChild.lastChild),function t(){var n=new Date;var d=(e.getTime()-n.getTime())/1e3;var s=Math.floor(d/60);minutesSpan.innerHTML=s;d-=60*s;d=Math.floor(d);secondsSpan.innerHTML=d;console.log(d);myvar=setTimeout(t,1e3);0==d&&(console.log("FIN DU MONDE"),clearTimeout(myvar))}()}}function stop(){clearTimeout(myvar),resume.classList.remove("hidden"),exit.classList.remove("hidden"),pause.classList.add("hidden"),console.log(minutesSpan.innerHTML+" "+secondsSpan.innerHTML),tacheEnCours.firstChild.lastChild.children[0].innerHTML=minutesSpan.innerHTML,tacheEnCours.firstChild.lastChild.children[2].innerHTML=secondsSpan.innerHTML}function reset(){clearTimeout(myvar),minutesSpan.innerHTML="25",secondsSpan.innerHTML="00",resume.classList.add("hidden"),exit.classList.add("hidden"),play.classList.remove("hidden"),pause.classList.add("hidden")}function truc(){resume.classList.add("hidden"),exit.classList.add("hidden"),pause.classList.remove("hidden"),function e(){var t=parseInt(minutesSpan.innerHTML);var n=parseInt(secondsSpan.innerHTML);var d=60*t+n;var s=Math.floor(d/60);minutesSpan.innerHTML=s;d-=60*s;d--;d=Math.floor(d);secondsSpan.innerHTML=d;console.log(d);myvar=setTimeout(e,1e3);0==d&&(console.log("FIN DU MONDE"),clearTimeout(myvar))}()}function securite(){0===tacheEnCours.childElementCount&&(console.log("secure"),reset())}$(document).ready(function(){$("ul.tabs").tabs()});var one=document.getElementById("one"),two=document.getElementById("two"),three=document.getElementById("three");function test1(){todo.classList.remove("hidden"),timer.classList.add("hidden"),completed.classList.add("hidden")}function test2(){todo.classList.add("hidden"),timer.classList.remove("hidden"),completed.classList.add("hidden")}function test3(){todo.classList.add("hidden"),timer.classList.add("hidden"),completed.classList.remove("hidden")}one.addEventListener("click",test1),two.addEventListener("click",test2),three.addEventListener("click",test3);